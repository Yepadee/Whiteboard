<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head th:replace="${header}:: head"></head>
<body>
	<div th:replace="${sidebar}:: sidebar"></div>

	<div class="right-side">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container-fluid">
				<div class="nav navbar-nav navbar-left">
					<h3>Outstanding Tasks</h3>
				</div>
			</div>
		</nav>
	</div>
	<div class="content">
		<div class="container outstanding-tasks">
			<div class="row">
				<div class="col-sm-8 table-wrapper">
					<h1 th:text="${task.assessment.name}"></h1>
					<form th:action="@{/user/tasks/{taskId}(taskId=${task.id})}" method="post" id="submissionForm" enctype="multipart/form-data">
						<label for="comments">Comments</label>
						<textarea id="comments" name="comments" th:text="${task.txtSubmission}" form="submissionForm"></textarea>
						<input type="file" name="files" multiple>
						<input type="submit" value="Submit" />
					</form>
					<form th:action="@{/user/testUpload/{taskId}(taskId=${task.id})}" method="post" >

					</form>
				</div>
				<div class="col-sm-8 table-wrapper">
					<h2>Uploaded files:</h2>
					<table class="table panel panel-default" id="table">
						<thead>
							<tr>
								<th>File</th>
								<th>Size</th>
								<th></th>
							</tr>
						</thead>
					<tbody>
						<tr th:each="file: ${fileinfo}">
							<td><a th:href="${file.filePath}" download="test">
							<span th:text="${file.fileName}"></span></a></td>
							<td><span th:text="${file.fileSize}"></span></td>
							<td><a th:href="@{/user/tasks/delete/{taskId}/{filename}(taskId=${task.id},filename=${file.fileName})}"
								class="btn btn-danger btn-xs" onclick="return confirm('Are you sure you want to delete this item?');">Delete</a></td>
						</tr>
				</tbody>
			</table>
			</div>
			</div>
		</div>
	</div>
</body>
</html>